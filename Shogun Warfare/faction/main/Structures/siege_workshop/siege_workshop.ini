[core]
name: siege_workshop
class: CustomUnitMetadata
tags: building, structure, siegeworkshop
displayText: [Siege Workshop]
displayDescription: - Siege Workshop allow's the training of the siege units. \n - The defending commander may even decide that his best course is to sit out the siege. \n - It is at this point that an attack needs a really big weapon to break down tough structures.

copyFrom:ROOT:buildings.template

techLevel: 1
buildSpeed: 20s
radius: 45
displayRadius: 45
price: gold=100, wood=120, rice=55
maxHp: 1200
mass: 5000
maxShield: 100
shieldRegen: 0.01
softCollisionOnAll: 5

footprint: -5,-2,1,3
constructionFootprint: -5,-2,1,3

buildingToFootprintOffsetX: -30
buildingToFootprintOffsetY: 0

isBio: false
isBuilding: true
numBitsOnDeath: 15

[graphics]
total_frames: 1
icon_build:icon.png
image:base.png
image_wreak: NONE
showEnergyBar: false
image_offsetX:0
image_offsetY:0
image_shadow: shadow.png
shadowOffsetX:0
shadowOffsetY:0

showHealthBar: true
drawLayer: experimentals

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
maxAttackRange: 0

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
maxTurnSpeed: 0
turnAcceleration: 0.1

[ai]
buildPriority: 0.30
noneInBaseExtraPriority: 0.30
maxEachBase: 1
maxGlobal: 2

recommendedInEachBaseNum: 1
recommendedInEachBasePriorityIfUnmet: 1

[decal_outline]
imageStack: outline.png*1
layer: afterBody
teamColors: true
onlyWhenSelectedByAnyPlayer: true

[decal_fireEffect]
layer: beforeUi
imageStack: fire1.png
onlyWithZoomLevelOrMore: 0.8
yOffsetRelative: -14
xOffsetRelative: 43
isVisible: if self.numberOfUnitsInEnemyTeam(lessThan=1, withTag="infantry", withinRange=100)

[decal_circle]
@copyFrom_skipThisSection: true
[decal_selection]
@copyFrom_skipThisSection: true


[canBuild_1]
name: bomb_thrower
pos: 0
[canBuild_2]
name: european_cannon
pos: 1
isLocked: if self.numberOfUnitsInTeam(withTag='europeancannon') >= 3
isLockedMessage: [Siege Weapons Limit at Max!]
[canBuild_3]
name: mangonel
pos: 2
isLocked: if self.numberOfUnitsInTeam(withTag='mangonel') >= 3
isLockedMessage: [Siege Weapons Limit at Max!]


[animation_harvest]
onActions : idle
effect_0.3s: {name:CUSTOM|smoke,x:45,y:0}
pingPong: false
[effect_smoke]
image: smoke.png
priority: low
drawUnderUnits:false
life: 100
alpha: 1.3
scaleFrom: 1
scaleTo: 3
fadeOut: true
hSpeed: 0.5
physics: true
physicsGravity: 0
attachedToUnit: false
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2
createWhenOffscreen: false
createWhenZoomedOut: false